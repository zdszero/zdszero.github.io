% 概念

### CGI

CGI（公共网关接口）是Common Gateway Interface的缩写，它为Web服务器提供了一套标准的协议（参看RFC3875），以便Web服务器能够像执行终端应用程序（也成为命令行程序）一样来执行程序，这些运行在Web服务器上的程序，通常用于动态的生成Web页面。这些程序通常被成为CGI脚本或者直接简称为CGI。

### RAL

RAL，全称为 Resource Access Layer ，是 ODP（Online Development Platform，在线业务开发平台，面向全百度的在线业务支撑平台） 的资源访问层，以 PHP 扩展的方式提供一个客户端，实现了对后端服务端交互的支持，用户在添加相应服务配置后，即可使用 RAL 一站式接口与后端服务进行交互，而不需要关注数据格式处理与协议交互的过程，为后端交互提供简单可依赖的支持。

| 字段   | 含义                                        |
|--------|---------------------------------------------|
| logid  | 唯一标识一次用户请求的id                    |
| cgid   | 在同一次logid下，唯一标识一次cgi执行        |
| uniqid | 同一logid和cgid下，唯一标识一次后端请求的id |

### 集群

定义：集群是一个逻辑上的概念，用于将具有相似功能或业务特征的服务器组织在一起。每个集群通常服务于特定的产品线或业务模块。

例子：新闻产品线：

- 文本集群：处理新闻的文本内容。
- 图片集群：处理新闻的图片和多媒体内容。

### 子集群

定义：子集群是对集群的进一步划分，通常根据地理位置或其他逻辑需求进行分类。每个子集群对应一个具体的业务需求或地理区域。

例子：在“新闻文本集群”中，可以有以下子集群：

- 北京文本集群：服务于北京地区的用户请求。
- 上海文本集群：服务于上海地区的用户请求。
- 杭州文本集群：服务于杭州地区的用户请求。

### 实例

定义：实例是集群或子集群中的具体服务器或服务的实例，负责实际处理请求并返回响应。每个实例都可以独立运行，并承载着业务逻辑。

例子：

在“北京文本子集群”中，可以有多个实例：

- 实例 A：运行在 IP 地址 192.168.1.1。
- 实例 B：运行在 IP 地址 192.168.1.2。
- 实例 C：运行在 IP 地址 192.168.1.3。

### IDC

定义：IDC 是数据中心的缩写，指的是承载物理服务器和网络设备的场所。IDC 提供必要的基础设施，如电力、冷却和网络连接，以支持服务器的运行。

例子：

— 机房 A（北京 IDC）：用于承载北京地区的集群和实例。
— 机房 B（上海 IDC）：用于承载上海地区的集群和实例。
— 机房 C（杭州 IDC）：用于承载杭州地区的集群和实例。

<b>层次架构</b>

了解即可，目前无法将这整个架构于BGW、BFE、RS的逻辑架构整合起来。

- 外网核心：IDC网络与运营商网络的边界设备，负责外部流量的入口和出口。
- 外网汇聚：连接外网核心与BGW/BIGNAT的汇聚层设备，起到流量汇聚和转发的作用。
- BIGNAT/BGW：
    - BGW（百度智能网关）：统一接入接出设备，提供负载均衡、服务冗余和攻击防御。
    - BIGNAT：实现业务的统一接出，负责NAT（网络地址转换）功能。
- 内网核心：负责IDC内部不同网段之间流量的转发，确保内部通信顺畅。
- 内网边缘（TOR）：服务器直接接入网络的设备，通常是连接到内网核心的接入层交换机。

参考 [此文](https://ku.baidu-int.com/knowledge/HFVrC7hq1Q/pKzJfZczuc/TFa1rYAXBi/QAPBCEC7x2qeIY)
